<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [tlug] Firefox 3.0.1 doesn't respect <meta	http&#45;equiv="content&#45;type"> -->
<!--X-From-R13: "Egrcura X. Fheaohyy" <fgrcuraNkrznpf.bet> -->
<!--X-Date: Tue, 16 Sep 2008 13:43:31 +0900 -->
<!--X-Message-Id: 87y71s66h2.fsf@xemacs.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 48C90DF7.4050300@bebear.net -->
<!--X-Reference: 87d4ja6x32.fsf@xemacs.org -->
<!--X-Reference: 48C9B63B.7000805@bebear.net -->
<!--X-Reference: 87abee6ri8.fsf@xemacs.org -->
<!--X-Reference: 48C9F1C4.10404@bebear.net -->
<!--X-Reference: 878wtx7tkq.fsf@xemacs.org -->
<!--X-Reference: 20080912073930.GA8935@lucky.cynic.net -->
<!--X-Reference: 8763p17ms6.fsf@xemacs.org -->
<!--X-Reference: 20080912094652.GD8935@lucky.cynic.net -->
<!--X-Reference: 873ak27pfe.fsf@xemacs.org -->
<!--X-Reference: 20080915025127.GB1369@lucky.cynic.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="Author" content="Jim Tittsler - listmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<P>
<TABLE BGCOLOR="#FFFF66" BORDER=1 COLS=1 WIDTH="90%" CLASS=navbar>
<TR>
<TD>&nbsp;&nbsp;
<FONT FACE="Verdana, Lucida Sans, Arial, Helvetica, Geneva, sans-serif"><SMALL>
<A HREF="../../index.html" TITLE="Tokyo Linux Users Group Page">
<STRONG>tlug.jp</STRONG></A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../../list.html" TITLE="Mailing List Page">Mailing List</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
<A HREF="../index.html" TITLE="tlug Archive Page">tlug archive</A> 
<IMG SRC="../../images/arrow_yellow.gif" WIDTH=13 HEIGHT=9 ALIGN=bottom ALT="-&gt;">
tlug Mailing List Archive
</SMALL></FONT>
</TD></TR>
</TABLE>
<P>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00214.html">Date Prev</a>][<a href="msg00216.html">Date Next</a>][<a href="msg00197.html">Thread Prev</a>][<a href="msg00218.html">Thread Next</a>][<a href="maillist.html#00215">Date Index</a>][<a href="threads.html#00215">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li>Date: Tue, 16 Sep 2008 13:48:57 +0900</li>
<li><strong>From</strong>: <strong>&quot;Stephen J. Turnbull&quot; &lt;<a href="mailto:stephen@DOMAIN.HIDDEN?SUBJECT=Re:%20%5Btlug%5D%20Firefox%203.0.1%20doesn%27t%20respect%20%3Cmeta%9http-equiv%3D%22content-type%22%3E">stephen@example.com</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</strong></li>
<li>References: &lt;<a href="msg00149.html">48C90DF7.4050300@bebear.net</a>&gt; &lt;<a href="msg00151.html">87d4ja6x32.fsf@xemacs.org</a>&gt;	&lt;<a href="msg00152.html">48C9B63B.7000805@bebear.net</a>&gt; &lt;<a href="msg00153.html">87abee6ri8.fsf@xemacs.org</a>&gt;	&lt;<a href="msg00155.html">48C9F1C4.10404@bebear.net</a>&gt; &lt;<a href="msg00159.html">878wtx7tkq.fsf@xemacs.org</a>&gt;	&lt;<a href="msg00162.html">20080912073930.GA8935@lucky.cynic.net</a>&gt; &lt;<a href="msg00164.html">8763p17ms6.fsf@xemacs.org</a>&gt;	&lt;<a href="msg00165.html">20080912094652.GD8935@lucky.cynic.net</a>&gt; &lt;<a href="msg00188.html">873ak27pfe.fsf@xemacs.org</a>&gt;	&lt;<a href="msg00197.html">20080915025127.GB1369@lucky.cynic.net</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Curt Sampson writes:
 &gt; On 2008-09-14 23:49 +0900 (Sun), Stephen J. Turnbull wrote:

 &gt; &gt; Puh-lease.  I'm talking about calling the content of the HEAD element
 &gt; &gt; a &quot;header&quot;.  That's just encapsulation, just like having a TCP header
 &gt; &gt; inside (as part of the content of) an IP packet.  That TCP packet
 &gt; &gt; itself might contain another TCP packet or even IP.  No?
 &gt; 
 &gt; The one very important difference you ignore here is that in the TCP/IP
 &gt; protocol suite, aside from perhaps a few things related to bootstrapping
 &gt; protocols, there are no cases of encapsulated data changing the meaning
 &gt; of data outside the encapsulation,

This is your brain fart as far as I can see.

How is the meaning of data outside the encapsulation changed?  The
HTTP header if it exists means what it means.  It can be true or
false, but the server has no way to enforce truth on the content
*unless it groks the content*, which it doesn't, and probably cannot
if it is to be reasonably efficient.

What the META element changes is the meaning of the HTML document data
*inside* the encapsulation.  This may falsify the HTTP header, but it
doesn't change its meaning, which is merely a guess in any case (as
the very existence of junk like AddDefaultCharset demonstrates).

 &gt; or providing information for layers of encapsulation outside of
 &gt; itself.

What information are you referring to?  The HTTP protocol transmits an
ASCII header followed by a binary message body; AFAIK it makes no use
of Content-Type, which is purely for the use of the inner protocol.

 &gt; It doesn't make sense, since encapsulation is no longer a
 &gt; transparent, reversable operation, and causes problems like the
 &gt; ones we're seeing here.

No, what causes the problem is the fact that the outer protocol is
authoritative about the data contained in the inner protocol, but
implementations make no attempt to verify that what they claim is
true.  There's a good reason for that: it's hard to do.

That's one reason among several why the MIME RFCs and RFC 1036 (USENET
articles) are based off of RFC 822 (Internet message format), not off
of RFC 821 (SMTP protocol), RFC 997 (NNTP), etc.

The problem here is that HTTP is analogous to SMTP, not to RFC 2822
messages.  A web server is not in any better position to verify
content than a mail server.  Mail works quite well with content
delegated to MUAs; similarly, I strongly suspect the web would work
better with content delegated to some other agent than the httpd.

 &gt; &gt; In fact, I don't see how the inner protocol can modify the
 &gt; &gt; interpretation of the outer protocol, since it doesn't know what
 &gt; &gt; that protocol is.
 &gt; 
 &gt; Well, that's an issue, but without question META http-equiv tags
 &gt; mess about with the interpretation of the HTTP headers, if present.

No, they don't.  The HTML 4.01 standard is quite specific about that.
Servers MAY grep for HTTP-EQUIV to inform the headers they send.
Clients MAY use HTTP-EQUIV to determine the charset ONLY IF there is
no Content-Type HTTP header field.

Even if we discuss the implicit proposal to change the precedence of
HTTP-EQUIV and the HTTP header, that doesn't change the interpretation
of the HTTP header.  It simply says that the HTTP header will not be
consulted in certain cases where &quot;better&quot; information is available.
However, if the HTTP header is consulted, the interpretation will be
the same.

 &gt; &gt; By the time the inner protocol gets interpreted,
 &gt; &gt; the outer protocol's meta information is gone.
 &gt; 
 &gt; Nope. The browser, when interpreting the HTML, remembers and uses
 &gt; the information (such as the charset) from the headers.

OK, as written *in English* and *out of context* that's a sane
interpretation.  But it would be helpful if you remember that I know
that, and try to figure out if there's something else I might mean
that doesn't require assuming I'm totally clueless.

To clarify, I meant &quot;stripped off and not available to the inner
protocol, which therefore can't be *modifying* the outer protocol,
but at most *superseding* it&quot;.

 &gt; &gt;  &gt; Is actually *not* an attempt to reset the content type, but is
 &gt; &gt;  &gt; specifying (in a terribly unobvious way) the default character
 &gt; &gt;  &gt; encoding for the document.
 &gt; &gt; 
 &gt; &gt; I don't understand what you mean. It's not an attempt to reset the
 &gt; &gt; content type, nor does it have anything to do with &quot;default&quot; character
 &gt; &gt; sets.
 &gt; 
 &gt; Well, sorry, you may say it doesn't, but the spec says it does:
 &gt; 
 &gt;     The META element may be used to specify the default information for
 &gt;     a document in the following instances:
 &gt; 
 &gt; 	* The default scripting language.
 &gt; 	* The default style sheet language.
 &gt; 	* The document character encoding.

The fact that the scripting language and style sheet language are
explicitly described as &quot;default&quot;, and document character encoding is
not, clearly indicates that the &quot;default&quot; in the first paragraph
really means something like &quot;document scope&quot;, not &quot;default&quot;.  There is
only one &quot;document scope&quot; charset; it is not a &quot;default&quot;; cf. RFC
2046.  The standard clearly intends that &quot;the document character
encoding&quot; refer to this document-scope explicit charset, not a
&quot;default&quot; of some kind.

And the standard doesn't say &quot;reset&quot; anywhere I can see, nor is
&quot;reset&quot; a sensible interpretation in light of the priorities mandated
in Ch.5.

 &gt; &gt;  &gt; Presumably this:
 &gt; &gt;  &gt; 
 &gt; &gt;  &gt;  &lt;META http-equiv=&quot;Content-Type&quot; content=&quot;image/jpeg; charset=ISO-8859-5&quot;&gt; 
 &gt; &gt;  &gt; 
 &gt; &gt;  &gt; is also a valid way of doing it;
 &gt; &gt; 
 &gt; &gt; No, because image/* content types don't have a charset parameter.
 &gt; 
 &gt; Right, but there's no indication in the spec that it should not be
 &gt; interpreted that way.

There doesn't need to be.  That's what RFC 2046 is for.

 &gt;     A META declaration with &quot;http-equiv&quot; set to &quot;Content-Type&quot; and a
 &gt;     value set for &quot;charset&quot;.

But this MUST be ignored (cf. RFC 2046) if it is not known by the
implementation to be a valid parameter for the content-type/subtype in
question (ie, separate namespaces).  And since the HTML spec doesn't
define image/jpeg, it can't add a charset parameter ad hoc.

I'm sorry, Curt, but you must read RFCs as if they were written in
Japanese, with other RFCs constituting the relevant &quot;j√¥shiki&quot;.


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00218" href="msg00218.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00149" href="msg00149.html">Re: [tlug] Firefox 3.0.1 doesn't respect	&lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Edward Middleton</li></ul></li>
<li><strong><a name="00151" href="msg00151.html">Re: [tlug] Firefox 3.0.1 doesn't respect	&lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00152" href="msg00152.html">Re: [tlug] Firefox 3.0.1 doesn't	respect	&lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Edward Middleton</li></ul></li>
<li><strong><a name="00153" href="msg00153.html">Re: [tlug] Firefox 3.0.1 doesn't	respect	&lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00155" href="msg00155.html">Re: [tlug] Firefox 3.0.1	doesn't	respect	&lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Edward Middleton</li></ul></li>
<li><strong><a name="00159" href="msg00159.html">Re: [tlug] Firefox 3.0.1	doesn't	respect	&lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00162" href="msg00162.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00164" href="msg00164.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00165" href="msg00165.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
<li><strong><a name="00188" href="msg00188.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Stephen J. Turnbull</li></ul></li>
<li><strong><a name="00197" href="msg00197.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
<ul><li><em>From:</em> Curt Sampson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00214.html">Re: [tlug] Truetype fonts and japanese vertical text (was: Re:	[BUG] libass: Japanese font with '@'-Prefix rendered wrong])</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00216.html">Re: [tlug] [announcement] 2008-09-13 TLUG Technical Meeting</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00197.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00218.html">Re: [tlug] Firefox 3.0.1 doesn't respect &lt;meta	http-equiv=&quot;content-type&quot;&gt;</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00215"><strong>Date</strong></a></li>
<li><a href="threads.html#00215"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
