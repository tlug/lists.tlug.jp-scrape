<!-- MHonArc v2.2.0 -->
<!--X-Subject: Re: tlug: PCMCIA wireless networking in Japan? -->
<!--X-From: Alberto Tomita <atomita@example.com> -->
<!--X-Date:  Wed, 14 Apr 1999 00:17:42 +0900 -->
<!--X-Message-Id: 4.0.2&#45;J.19990413235331.021b53c0@example.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 19990316134231.A4002@example.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
  <title>TLUG Mailing List</title>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="Author" content="Jim Schweizer - webmaster TLUG">
  <meta http-equiv="keywords" content="Tokyo Linux Users Group mailing list archive.">
</head>
 
<body bgcolor="#FFFFFF" text="#000000" BACKGROUND="../back3grnd.gif">
<BLOCKQUOTE>
<CENTER><IMG SRC="../tlug_logo.gif"><BR>Mailing List Archive</CENTER>
<!--X-Body-Begin-->
<!--X-User-Header-->
<P>
<font color="blue">
Support open source code!
</font>
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00127.html">Date Prev</A>][<A HREF="msg00129.html">Date Next</A>][<A HREF="msg00127.html">Thread Prev</A>][<A HREF="msg00129.html">Thread Next</A>][<A HREF="maillist.html#00128">Date Index</A>][<A HREF="threads.html#00128">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: tlug: PCMCIA wireless networking in Japan?</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:tlug@example.com">tlug@example.com</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: tlug: PCMCIA wireless networking in Japan?</strong></LI>
<LI><strong>From</strong>: <strong>Alberto Tomita &lt;<A HREF="mailto:atomita@example.com">atomita@example.com</A>&gt;</strong></LI>
<LI>Date: Tue, 13 Apr 1999 23:59:11 +0900</LI>
<LI>Content-Transfer-Encoding: 7bit</LI>
<LI>Content-Type: text/plain; charset="ISO-2022-JP"</LI>
<LI>In-Reply-To: &lt;19990316134231.A4002@example.com&gt;</LI>
<LI>Reply-To: <A HREF="mailto:tlug@example.com">tlug@example.com</A></LI>
<LI>Sender: <A HREF="mailto:owner-tlug@example.com">owner-tlug@example.com</A></LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
At 13:42 99/03/16 +0900, you wrote:
&gt; Does anyone have any experience using the PCMCIA wireless networking cards
&gt; that are certified for use in Japan with Linux?  A quick web search turned
&gt; up only very US-centric lists of supported cards.

I found this at japan.comp.linux. The author mentions "retailers
of Proxim products in Japan", so it's probably certified for use
here.

From: Y.MINAMI &lt;yminami@example.com&gt;
Newsgroups: japan.comp.linux
Subject: =?ISO-2022-JP?B?GyRCTDVAfhsoQg==?=LAN
 =?ISO-2022-JP?B?GyRCJEgbKEI=?=Linux
Date: Mon, 12 Apr 1999 13:46:25 +0900
Organization: AIRNET
Lines: 245
Message-ID: &lt;7ertik$8vd$2@example.com&gt;
NNTP-Posting-Host: yok021.airnet.ne.jp
Mime-Version: 1.0
Content-Type: text/plain; charset=iso-2022-jp
X-Trace: news2.tokyo.airnet.ne.jp 923892116 9197 210.159.93.84 (12 Apr 1999 
04:41:56 GMT)
X-Complaints-To: abuse@example.com
NNTP-Posting-Date: 12 Apr 1999 04:41:56 GMT
X-Newsreader: Datula version 1.11.10 on Windows 95
Xref: attnet-tky japan.comp.linux:1629

米国Proxim社製の無線LANのRangeLAN2/ISAとRangeLAN2/PCMCIA7400
をLinuxで動作させることが出来ましたので、その時のインストール
メモを投稿します。(日本語で書かれたRangeLAN2のインストールメモ
は見たことがないので)

この文章の注意・制限事項：(長文注意)

この文章の内容は一舌逅跂闕歉擇任后海諒絃呂瞭睛討鮗孫圓垢訃豺腓
全て自己舌逅跂闕い嚢圓辰堂爾気ぁ海諒絃呂瞭睛討鮗孫圓靴新覯漫燭
かの不都合が起きても、私は一舌逅跂闕舌逅跂闕い鯢蕕い泙擦鵝
またこの文章について私宛に何らかのお問い合わせを頂いても、回答
するとは限りません。

なおRangeLAN2シリーズをLinux等で使用した場合に発舌逅跂闕する事象や
この文章の内容に関して、米国Proxim社や日本国内のProxim社の販売
代理店等に対して何らかの問い合せを行ったり、舌逅跂闕い鯆謬擇垢襪海
は行わないで下さい。

この文章の二次配布は禁止します。

1. 検証したマシン環境：

ISA,PCMCIA7400ともにTurboLinux 3.0(kernel2.0.5)にインストール。
PCMCIA7400の場合はpcmcia-cs-3.0.9を使用。(非CardBus対応)


2. Linux用ドライバの構舌逅跂闕

RangeLAN2のLinux用ドライバは以下の3つの部分から構舌逅跂闕されます。

  ・RangeLAN2に対してネットワークカード・ドライバの役割を行う
    rlmod.o

  ・RangeLAN2に対して各種無線通信上の舌逅跂闕(ステーション種別,
    ドメイン,チャネル,マスタ名等)を行うrl2cfg

  ・各種舌逅跂闕ファイル


3. 前準備：

ISA,PCMCIA7400をインストールには予め以下のものがマシン側に用意
されている必要があります。

  ・カーネルのソース(古いバージョンでは後述のコンパイルが
    できない可能舌逅跂闕あり)
  ・make,gcc,ldが使える環境
  ・PCMCIA7400をインストールする場合にはpcmcia-csのソース
    (TurboLinux3.0に附属していたpcmcia-cs-3.0.5では後述の
     コンパイルができなかったためpcmcia-cs-3.0.9に変更)


4. RangeLAN2用ドライバの入手

RangeLAN2用のLinuxドライバは以下のサイトから入手できます。
(ファイル名：rl2_driver.tgzとrl2_driver.lsmとREADME,
99年4月11日現在rl2_driver.tgzの実体はrl2-1.5.0.tgz)

<A HREF="http://www.komacke.com/distribution.html">http://www.komacke.com/distribution.html</A>
または
<A HREF="ftp://ftp.komacke.com/pub/rl2isa-driver">ftp://ftp.komacke.com/pub/rl2isa-driver</A>


5. ドライバのコンパイル・インストール

5.1 rl2_driver.lsmとREADMEを読み、ドライバの使用条件・使用方法
    を確認する。

5.2 Linuxのカーネルソースを置いてあるディレクトリ(例：/usr/src/linux)
    に移動し、"make dep"を実行する。

5.2 rl2_driver.tgzを置いたディレクトリに移動し、rl2_driver.tgzを
    展開する。
    rl2_driver.tgzには以下のものが含まれている。

    ・RangeLAN2のネットワークカード・ドライバ本体のrlmod.o(バイナリ)
    ・RangeLAN2の無線通信に関する舌逅跂闕プログラムrl2cfgのソース
    ・README,README.pcmcia等のドキュメント類
    ・kernel2.2.xのためのpatchらしきもの(これは試していません)

5.3 展開の結果舌逅跂闕舌逅跂闕されたディレクトリに移動し、"make config"を実行
    する。この時以下の入力が要求されるので、使用するマシンに応じた
    値を入力する。

    ・What shall we set for CardType default (see README)?  
      → ISAなら0,PCMCIA7400なら3を入力

    ・Where do you keep your kernel modules for install?
      → RangeLAN"のネットワークカード・ドライバ(rlmod.o)を置く
         ディレクトリを入力。TurboLinux3.0の場合は、
         ISA：/lib/modules/2.0.35/net
         PCMCIA7400：/lib/modules/2.0.35/pcmcia

    ・Where do you keep your local bin for install?
      → RangeLAN2の無線通信に関する舌逅跂闕プログラムrl2cfgを置く
         ディレクトリを入力。TurboLinux3.0の場合はデフォルトの
         /usr/local/binでOK。

    ・Where are your system includes?
      → 使用するシステムのincludeファイルが置かれたディレクトリ
         を入力。TurboLinux3.0の場合はデフォルトの/usr/includeでOK。

    ・Do you want buffering in the driver?
      → 通常は"y"を入力。

    ・Will you build PC Card support?
      → ISAならば"n"を、PCMCIA7400ならば"y"を入力。

    ・Where do you keep your pcmcia header files?
      → pcmcia-csのソースのincludeファイルが置かれたディレクトリ
         を入力。TurboLinux+pcmcia-cs-3.0.9の場合は
         /usr/src/linux/pcmcia-3.0.9/include

5.3 "make modules"を実行。

5.5 "make modules_install"を実行。


6. 環境舌逅跂闕

6.1 ISAの場合

・通常のネットワークカードと同じようにIPアドレス等のネットワーク
  関係の舌逅跂闕を行う。

・READMEファイルの例を参考にして、/etc/conf.modulesにRangeLAN2の
  ベースアドレス,IRQ,カードタイプ,無線上の各種舌逅跂闕を行う。なお
  READMEファイルにはrl2cfgの舌逅跂闕が2行に分かれているが、実際は一行
  で記述しないと有効にならないようである。
  rl2cfgの主な引数の意味は以下の通りである。(その他詳細はソース
  プログラム rl2cfg.c を参照のこと)

  デバイス指定：dev デバイス名  例：dev eth0

  ステーション種別：マスタ → msta
                    ステーション → sta
                    オルタネイト・マスタ → alt

ドメイン：domain ドメインNo.  例：domain 0

チャネル：channel チャネルno.  例：channel 1

マスタ名：name マスタ名  例：name LINUXBOX

記述例：
・irq：5,ベースアドレス：0x270,ステーション種別：マスタ,
   ドメイン：0,チャネル：1,マスタ名：BASE,デバイス：eth0 の場合

   alias eth0 rlmod
   options rlmod io=0x270 irq=5 CardType=0
   post-install rlmod /usr/local/bin/rl2cfg dev eth0 msta domain 0 channel 
1 name BASE

・irq：3,ベースアドレス：0x300,ステーション種別：ステーション,
   ドメイン：7,デバイス：eth0 の場合

   alias eth0 rlmod
   options rlmod io=0x300 irq=3 CardType=0
   post-install rlmod /usr/local/bin/rl2cfg dev eth0 sta domain 7

・上の舌逅跂闕が終了したなら、一旦マシンをシャットダウン・電源offを行い、
  マシンにRangeLAN2/ISAを装着してから再起動する。

6.2 PCMCIA/7400の場合

・通常のPCカード型ネットワークカードと同じようにIPアドレス等のネット
  ワーク関係の舌逅跂闕を行う。

・README.pcmciaファイルを参考にして、/etc/pcmcia/configに以下の記述を
  追加する。

  device "rlmod"
    class "network" module "rlmod"

  card "Proxim RangeLAN2 7400 PC Card"
    version "PROXIM", "LAN PC CARD", "RANGELAN2"
    bind "rlmod"

  card "Proxim Symphony PC Card"
    version "PROXIM", "LAN PC CARD", "SYMPHONY"
    bind "rlmod"

  card "Proxim RangeLAN2 7200 PC Card"
    version "PROXIM", "LAN CARD", "RANGELAN2"
    bind "rlmod"

・rl2_driver.tgzを展開すると得られるnetwork.optsファイルを参考にして
  /etc/pcmcia/network.optsのRangeLAN2を使用するschemaの部分にrl2cfgの
  舌逅跂闕を記述する。rl2cfgの記述方法はISAと同じである。(IRQ等の記述は
  不要)

  記述例：
  ・ステーション種別：ステーション,ドメイン：8,デバイス：eth0 の場合

    case "$ADDRESS" in
    *,*,*,*)
    # Extra stuff to do after setting up the interface
    start_fn () {
          /usr/local/bin/rl2cfg dev eth0 sta domain 8;
          sleep 1;
          return;
          }
    # Extra stuff to do before shutting down the interface
    stop_fn () { return; }
    IF_PORT=""
    BOOTP="n"
    DHCP="n"
    IPADDR="192.168.0.1"
    NETMASK="255.255.255.0"
    NETWORK="192.168.0.0"
    BROADCAST="192.168.0.255"
    GATEWAY="192.168.0.2"
    DOMAIN="hogehoge"
    SEARCH=""
    DNS_1="192.168.0.3"
    DNS_2=""
    DNS_3=""
    MOUNTS=""
    IPX_FRAME=""
    IPX_NETNUM=""
    ;;
  esac

・上の舌逅跂闕が終了したなら、一旦マシンをシャットダウン・電源offを行い、
  マシンにRangeLAN2/PCMCIA7400を装着してから再起動する。

7. その他

・起動時にDHCPサーバーから動的にIPアドレスを取得できるかどうかは、
  未検証です。

・PCMCIA7400と同じ要領でRangeLAN2/PCMCIA7200も動作するようですが、
  未検証です。

・このLinux用ドライバではセキュリティIDの舌逅跂闕・変更はできません。
  セキュリティIDを使用する場合はDOSまたはWindows上から行って下さい。
  (セキュリティID自身はカード内に書き込まれます) 

・このLinux用ドライバにはSite Surveyは附属していません。


＃Linuxエミュレータを使ってバイナリ形式のドライバをFreeBSDで
＃動かすって、やっぱり無理なんだろうなあ

-- 
MINAMI <A HREF="mailto:yminami@example.com">mailto:yminami@example.com</A>
---
A.Tomita,Jr. 
atomita@example.com
-------------------------------------------------------------------
Next Nomikai: TBD                    Tengu TokyoEkiMae 03-3275-3691
Next Technical Meeting: June 12 (Sat), 12  :30   place: Temple Univ.
-------------------------------------------------------------------
more info: <A HREF="http://www.tlug.gr.jp">http://www.tlug.gr.jp</A>        Sponsor: Global Online Japan
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00127.html">Re: tlug: gcc option -rdynamic</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00129.html">tlug: Linux presenter in Kansai area?</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00127.html">Re: tlug: gcc option -rdynamic</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00129.html">tlug: Linux presenter in Kansai area?</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="maillist.html#00128"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00128"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<strong>
<a href="../index.html">Home</a> |
<a href="maillist.html">Main Index</a> |
<a href="threads.html">Thread Index</a>
</strong>
<!--X-User-Footer-End-->
 
<P>
<CENTER>
 <table border=2 width=75%><tr><td align=center>
<a href="../../index.html"> Home Page</a></td>
<td align=center><a href="../../list.html"> Mailing List </a></td>
<td align=center><a href="../../linuxinjapan.html"> Linux and Japan </a></td>
<td align=center><a href="../../members.html">TLUG Members</a></td>
<td align=center><a href="../../linuxlinks.html">Links</a></td>
</tr></TABLE>
<P>
</CENTER>
</BLOCKQUOTE>
</body>
</html>
